(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

(*
fn main() {
    test!(1i32 + 1 == 2i32; and 2i32 * 2 == 4i32);
    test!(true; or false);
}
*)
(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main : M unit :=
  ltac:(M.monadic ((
    M.read (|
      let _ : M.Val unit :=
        let _ : M.Val unit :=
          M.alloc (|
            M.call (|(std.io.stdio._print
              (M.call (|(core.fmt.Arguments.t::["new_v1"]
                (pointer_coercion
                  "Unsize"
                  (borrow
                    (M.alloc (|
                      [
                        M.read (| mk_str "" |);
                        M.read (| mk_str " and " |);
                        M.read (| mk_str " is " |);
                        M.read (| mk_str "
" |)
                      ]
                    |))))
                (pointer_coercion
                  "Unsize"
                  (borrow
                    (M.alloc (|
                      [
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow (mk_str "1i32 + 1 == 2i32")))
                        |);
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow (mk_str "2i32 * 2 == 4i32")))
                        |);
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow
                            (M.alloc (|
                              BinOp.Pure.and
                                (BinOp.Pure.eq
                                  (BinOp.Panic.add (|
                                    (Integer.of_Z 1) : i32.t,
                                    (Integer.of_Z 1) : i32.t
                                  |))
                                  ((Integer.of_Z 2) : i32.t))
                                (BinOp.Pure.eq
                                  (BinOp.Panic.mul (|
                                    (Integer.of_Z 2) : i32.t,
                                    (Integer.of_Z 2) : i32.t
                                  |))
                                  ((Integer.of_Z 4) : i32.t))
                            |))))
                        |)
                      ]
                    |)))))
              |)))
            |)
          |) in
        M.alloc (| tt |) in
      let _ : M.Val unit :=
        let _ : M.Val unit :=
          M.alloc (|
            M.call (|(std.io.stdio._print
              (M.call (|(core.fmt.Arguments.t::["new_v1"]
                (pointer_coercion
                  "Unsize"
                  (borrow
                    (M.alloc (|
                      [
                        M.read (| mk_str "" |);
                        M.read (| mk_str " or " |);
                        M.read (| mk_str " is " |);
                        M.read (| mk_str "
" |)
                      ]
                    |))))
                (pointer_coercion
                  "Unsize"
                  (borrow
                    (M.alloc (|
                      [
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow (mk_str "true")))
                        |);
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow (mk_str "false")))
                        |);
                        M.call (|(core.fmt.rt.Argument.t::["new_debug"]
                          (borrow (M.alloc (| BinOp.Pure.or true false |))))
                        |)
                      ]
                    |)))))
              |)))
            |)
          |) in
        M.alloc (| tt |) in
      M.alloc (| tt |)
    |)
  ) : unit)).
