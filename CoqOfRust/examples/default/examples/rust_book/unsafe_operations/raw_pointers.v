(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

(*
fn main() {
    let raw_p: *const u32 = &10;

    unsafe {
        assert!( *raw_p == 10);
    }
}
*)
(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main : M unit :=
  ltac:(M.monadic (
    M.read (|
      let raw_p : M.Val (ref u32.t) :=
        M.alloc (| addr_of (M.alloc (| (Integer.of_Z 10) : u32.t |)) |) in
      let _ : M.Val unit :=
        if
          M.read (|
            use
              (M.alloc (|
                UnOp.not
                  (BinOp.Pure.eq
                    (M.read (| deref (M.read (| raw_p |)) |))
                    ((Integer.of_Z 10) : u32.t))
              |))
          |)
        then
          M.alloc (|
            (never_to_any (B := unit)) (|
              M.call (|(core.panicking.panic
                (M.read (| mk_str "assertion failed: *raw_p == 10" |)))
              |)
            |)
          |)
        else
          M.alloc (| tt |) in
      M.alloc (| tt |)
    |)
  )).
