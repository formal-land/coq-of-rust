(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Module exponentiation.
  (*
  pub(crate) const fn bits_u64(n: u64) -> usize {
      (64 - n.leading_zeros()) as usize
  }
  *)
  Definition bits_u64 (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
    match ε, τ, α with
    | [], [], [ n ] =>
      ltac:(M.monadic
        (let n := M.alloc (| n |) in
        M.cast
          (Ty.path "usize")
          (M.call_closure (|
            Ty.path "u32",
            BinOp.Wrap.sub,
            [
              Value.Integer IntegerKind.U32 64;
              M.call_closure (|
                Ty.path "u32",
                M.get_associated_function (| Ty.path "u64", "leading_zeros", [], [] |),
                [ M.read (| n |) ]
              |)
            ]
          |))))
    | _, _, _ => M.impossible "wrong number of arguments"
    end.
  
  Global Instance Instance_IsFunction_bits_u64 :
    M.IsFunction.C "p3_field::exponentiation::bits_u64" bits_u64.
  Admitted.
  Global Typeclasses Opaque bits_u64.
  
  (*
  pub fn exp_1717986917<R: PrimeCharacteristicRing>(val: R) -> R {
      // Note the binary expansion: 1717986917 = 1100110011001100110011001100101_2
      // This uses 30 Squares + 7 Multiplications => 37 Operations total.
      // Suspect it's possible to improve this with enough effort. For example 1717986918 takes only 4 Multiplications.
      let p1 = val;
      let p10 = p1.square();
      let p11 = p10.clone() * p1;
      let p101 = p10 * p11.clone();
      let p110000 = p11.exp_power_of_2(4);
      let p110011 = p110000 * p11.clone();
      let p11001100000000 = p110011.exp_power_of_2(8);
      let p11001100110011 = p11001100000000.clone() * p110011;
      let p1100110000000000000000 = p11001100000000.exp_power_of_2(8);
      let p1100110011001100110011 = p1100110000000000000000 * p11001100110011;
      let p11001100110011001100110000 = p1100110011001100110011.exp_power_of_2(4);
      let p11001100110011001100110011 = p11001100110011001100110000 * p11;
      let p1100110011001100110011001100000 = p11001100110011001100110011.exp_power_of_2(5);
      p1100110011001100110011001100000 * p101
  }
  *)
  Definition exp_1717986917 (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
    match ε, τ, α with
    | [], [ R ], [ val ] =>
      ltac:(M.monadic
        (let val := M.alloc (| val |) in
        M.read (|
          let~ p1 : Ty.apply (Ty.path "*") [] [ R ] := M.copy (| val |) in
          let~ p10 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p1 |) ]
              |)
            |) in
          let~ p11 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p10 |) ]
                  |);
                  M.read (| p1 |)
                ]
              |)
            |) in
          let~ p101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p10 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11 |) ]
                  |)
                ]
              |)
            |) in
          let~ p110000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p11 |); Value.Integer IntegerKind.Usize 4 ]
              |)
            |) in
          let~ p110011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p110000 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11 |) ]
                  |)
                ]
              |)
            |) in
          let~ p11001100000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p110011 |); Value.Integer IntegerKind.Usize 8 ]
              |)
            |) in
          let~ p11001100110011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11001100000000 |) ]
                  |);
                  M.read (| p110011 |)
                ]
              |)
            |) in
          let~ p1100110000000000000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p11001100000000 |);
                  Value.Integer IntegerKind.Usize 8
                ]
              |)
            |) in
          let~ p1100110011001100110011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p1100110000000000000000 |); M.read (| p11001100110011 |) ]
              |)
            |) in
          let~ p11001100110011001100110000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p1100110011001100110011 |);
                  Value.Integer IntegerKind.Usize 4
                ]
              |)
            |) in
          let~ p11001100110011001100110011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p11001100110011001100110000 |); M.read (| p11 |) ]
              |)
            |) in
          let~ p1100110011001100110011001100000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p11001100110011001100110011 |);
                  Value.Integer IntegerKind.Usize 5
                ]
              |)
            |) in
          M.alloc (|
            M.call_closure (|
              R,
              M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
              [ M.read (| p1100110011001100110011001100000 |); M.read (| p101 |) ]
            |)
          |)
        |)))
    | _, _, _ => M.impossible "wrong number of arguments"
    end.
  
  Global Instance Instance_IsFunction_exp_1717986917 :
    M.IsFunction.C "p3_field::exponentiation::exp_1717986917" exp_1717986917.
  Admitted.
  Global Typeclasses Opaque exp_1717986917.
  
  (*
  pub fn exp_1420470955<R: PrimeCharacteristicRing>(val: R) -> R {
      // Note the binary expansion: 1420470955 = 1010100101010101010101010101011_2
      // This uses 29 Squares + 7 Multiplications => 36 Operations total.
      // Suspect it's possible to improve this with enough effort.
      let p1 = val;
      let p100 = p1.exp_power_of_2(2);
      let p101 = p100.clone() * p1.clone();
      let p10000 = p100.exp_power_of_2(2);
      let p10101 = p10000 * p101;
      let p10101000000 = p10101.exp_power_of_2(6);
      let p10101010101 = p10101000000.clone() * p10101.clone();
      let p101010010101 = p10101000000 * p10101010101.clone();
      let p101010010101000000000000 = p101010010101.exp_power_of_2(12);
      let p101010010101010101010101 = p101010010101000000000000 * p10101010101;
      let p101010010101010101010101000000 = p101010010101010101010101.exp_power_of_2(6);
      let p101010010101010101010101010101 = p101010010101010101010101000000 * p10101;
      let p1010100101010101010101010101010 = p101010010101010101010101010101.square();
      p1010100101010101010101010101010 * p1
  }
  *)
  Definition exp_1420470955 (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
    match ε, τ, α with
    | [], [ R ], [ val ] =>
      ltac:(M.monadic
        (let val := M.alloc (| val |) in
        M.read (|
          let~ p1 : Ty.apply (Ty.path "*") [] [ R ] := M.copy (| val |) in
          let~ p100 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p1 |); Value.Integer IntegerKind.Usize 2 ]
              |)
            |) in
          let~ p101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p100 |) ]
                  |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p1 |) ]
                  |)
                ]
              |)
            |) in
          let~ p10000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p100 |); Value.Integer IntegerKind.Usize 2 ]
              |)
            |) in
          let~ p10101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p10000 |); M.read (| p101 |) ]
              |)
            |) in
          let~ p10101000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p10101 |); Value.Integer IntegerKind.Usize 6 ]
              |)
            |) in
          let~ p10101010101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p10101000000 |) ]
                  |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p10101 |) ]
                  |)
                ]
              |)
            |) in
          let~ p101010010101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p10101000000 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p10101010101 |) ]
                  |)
                ]
              |)
            |) in
          let~ p101010010101000000000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p101010010101 |); Value.Integer IntegerKind.Usize 12
                ]
              |)
            |) in
          let~ p101010010101010101010101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p101010010101000000000000 |); M.read (| p10101010101 |) ]
              |)
            |) in
          let~ p101010010101010101010101000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p101010010101010101010101 |);
                  Value.Integer IntegerKind.Usize 6
                ]
              |)
            |) in
          let~ p101010010101010101010101010101 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p101010010101010101010101000000 |); M.read (| p10101 |) ]
              |)
            |) in
          let~ p1010100101010101010101010101010 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p101010010101010101010101010101 |) ]
              |)
            |) in
          M.alloc (|
            M.call_closure (|
              R,
              M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
              [ M.read (| p1010100101010101010101010101010 |); M.read (| p1 |) ]
            |)
          |)
        |)))
    | _, _, _ => M.impossible "wrong number of arguments"
    end.
  
  Global Instance Instance_IsFunction_exp_1420470955 :
    M.IsFunction.C "p3_field::exponentiation::exp_1420470955" exp_1420470955.
  Admitted.
  Global Typeclasses Opaque exp_1420470955.
  
  (*
  pub fn exp_1725656503<R: PrimeCharacteristicRing>(val: R) -> R {
      // Note the binary expansion: 1725656503 = 1100110110110110110110110110111_2
      // This uses 29 Squares + 8 Multiplications => 37 Operations total.
      // Suspect it's possible to improve this with enough effort.
      let p1 = val;
      let p10 = p1.square();
      let p11 = p10 * p1.clone();
      let p110 = p11.square();
      let p111 = p110.clone() * p1;
      let p11000 = p110.exp_power_of_2(2);
      let p11011 = p11000.clone() * p11;
      let p11000000 = p11000.exp_power_of_2(3);
      let p11011011 = p11000000.clone() * p11011;
      let p110011011 = p11011011.clone() * p11000000;
      let p110011011000000000 = p110011011.exp_power_of_2(9);
      let p110011011011011011 = p110011011000000000 * p11011011.clone();
      let p110011011011011011000000000 = p110011011011011011.exp_power_of_2(9);
      let p110011011011011011011011011 = p110011011011011011000000000 * p11011011;
      let p1100110110110110110110110110000 = p110011011011011011011011011.exp_power_of_2(4);
      p1100110110110110110110110110000 * p111
  }
  *)
  Definition exp_1725656503 (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
    match ε, τ, α with
    | [], [ R ], [ val ] =>
      ltac:(M.monadic
        (let val := M.alloc (| val |) in
        M.read (|
          let~ p1 : Ty.apply (Ty.path "*") [] [ R ] := M.copy (| val |) in
          let~ p10 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p1 |) ]
              |)
            |) in
          let~ p11 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p10 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p1 |) ]
                  |)
                ]
              |)
            |) in
          let~ p110 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p11 |) ]
              |)
            |) in
          let~ p111 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p110 |) ]
                  |);
                  M.read (| p1 |)
                ]
              |)
            |) in
          let~ p11000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p110 |); Value.Integer IntegerKind.Usize 2 ]
              |)
            |) in
          let~ p11011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11000 |) ]
                  |);
                  M.read (| p11 |)
                ]
              |)
            |) in
          let~ p11000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p11000 |); Value.Integer IntegerKind.Usize 3 ]
              |)
            |) in
          let~ p11011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11000000 |) ]
                  |);
                  M.read (| p11011 |)
                ]
              |)
            |) in
          let~ p110011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11011011 |) ]
                  |);
                  M.read (| p11000000 |)
                ]
              |)
            |) in
          let~ p110011011000000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p110011011 |); Value.Integer IntegerKind.Usize 9 ]
              |)
            |) in
          let~ p110011011011011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p110011011000000000 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11011011 |) ]
                  |)
                ]
              |)
            |) in
          let~ p110011011011011011000000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p110011011011011011 |);
                  Value.Integer IntegerKind.Usize 9
                ]
              |)
            |) in
          let~ p110011011011011011011011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p110011011011011011000000000 |); M.read (| p11011011 |) ]
              |)
            |) in
          let~ p1100110110110110110110110110000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p110011011011011011011011011 |);
                  Value.Integer IntegerKind.Usize 4
                ]
              |)
            |) in
          M.alloc (|
            M.call_closure (|
              R,
              M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
              [ M.read (| p1100110110110110110110110110000 |); M.read (| p111 |) ]
            |)
          |)
        |)))
    | _, _, _ => M.impossible "wrong number of arguments"
    end.
  
  Global Instance Instance_IsFunction_exp_1725656503 :
    M.IsFunction.C "p3_field::exponentiation::exp_1725656503" exp_1725656503.
  Admitted.
  Global Typeclasses Opaque exp_1725656503.
  
  (*
  pub fn exp_10540996611094048183<R: PrimeCharacteristicRing>(val: R) -> R {
      // Note the binary expansion: 10540996611094048183 = 1001001001001001001001001001000110110110110110110110110110110111_2.
      // This uses 63 Squares + 8 Multiplications => 71 Operations total.
      // Suspect it's possible to improve this a little with enough effort.
      let p1 = val;
      let p10 = p1.square();
      let p11 = p10.clone() * p1;
      let p100 = p10.square();
      let p111 = p100.clone() * p11.clone();
      let p100000000000000000000000000000000 = p100.exp_power_of_2(30);
      let p100000000000000000000000000000011 = p100000000000000000000000000000000 * p11;
      let p100000000000000000000000000000011000 =
          p100000000000000000000000000000011.exp_power_of_2(3);
      let p100100000000000000000000000000011011 =
          p100000000000000000000000000000011000 * p100000000000000000000000000000011;
      let p100100000000000000000000000000011011000000 =
          p100100000000000000000000000000011011.exp_power_of_2(6);
      let p100100100100000000000000000000011011011011 =
          p100100000000000000000000000000011011000000 * p100100000000000000000000000000011011.clone();
      let p100100100100000000000000000000011011011011000000000000 =
          p100100100100000000000000000000011011011011.exp_power_of_2(12);
      let p100100100100100100100100000000011011011011011011011011 =
          p100100100100000000000000000000011011011011000000000000
              * p100100100100000000000000000000011011011011;
      let p100100100100100100100100000000011011011011011011011011000000 =
          p100100100100100100100100000000011011011011011011011011.exp_power_of_2(6);
      let p100100100100100100100100100100011011011011011011011011011011 =
          p100100100100100100100100000000011011011011011011011011000000
              * p100100000000000000000000000000011011;
      let p1001001001001001001001001001000110110110110110110110110110110000 =
          p100100100100100100100100100100011011011011011011011011011011.exp_power_of_2(4);
  
      p1001001001001001001001001001000110110110110110110110110110110000 * p111
  }
  *)
  Definition exp_10540996611094048183 (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
    match ε, τ, α with
    | [], [ R ], [ val ] =>
      ltac:(M.monadic
        (let val := M.alloc (| val |) in
        M.read (|
          let~ p1 : Ty.apply (Ty.path "*") [] [ R ] := M.copy (| val |) in
          let~ p10 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p1 |) ]
              |)
            |) in
          let~ p11 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p10 |) ]
                  |);
                  M.read (| p1 |)
                ]
              |)
            |) in
          let~ p100 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "square",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p10 |) ]
              |)
            |) in
          let~ p111 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p100 |) ]
                  |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p11 |) ]
                  |)
                ]
              |)
            |) in
          let~ p100000000000000000000000000000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [ M.borrow (| Pointer.Kind.Ref, p100 |); Value.Integer IntegerKind.Usize 30 ]
              |)
            |) in
          let~ p100000000000000000000000000000011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [ M.read (| p100000000000000000000000000000000 |); M.read (| p11 |) ]
              |)
            |) in
          let~ p100000000000000000000000000000011000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p100000000000000000000000000000011 |);
                  Value.Integer IntegerKind.Usize 3
                ]
              |)
            |) in
          let~ p100100000000000000000000000000011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p100000000000000000000000000000011000 |);
                  M.read (| p100000000000000000000000000000011 |)
                ]
              |)
            |) in
          let~ p100100000000000000000000000000011011000000 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p100100000000000000000000000000011011 |);
                  Value.Integer IntegerKind.Usize 6
                ]
              |)
            |) in
          let~ p100100100100000000000000000000011011011011 : Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p100100000000000000000000000000011011000000 |);
                  M.call_closure (|
                    R,
                    M.get_trait_method (| "core::clone::Clone", R, [], [], "clone", [], [] |),
                    [ M.borrow (| Pointer.Kind.Ref, p100100000000000000000000000000011011 |) ]
                  |)
                ]
              |)
            |) in
          let~ p100100100100000000000000000000011011011011000000000000 :
              Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (| Pointer.Kind.Ref, p100100100100000000000000000000011011011011 |);
                  Value.Integer IntegerKind.Usize 12
                ]
              |)
            |) in
          let~ p100100100100100100100100000000011011011011011011011011 :
              Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p100100100100000000000000000000011011011011000000000000 |);
                  M.read (| p100100100100000000000000000000011011011011 |)
                ]
              |)
            |) in
          let~ p100100100100100100100100000000011011011011011011011011000000 :
              Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (|
                    Pointer.Kind.Ref,
                    p100100100100100100100100000000011011011011011011011011
                  |);
                  Value.Integer IntegerKind.Usize 6
                ]
              |)
            |) in
          let~ p100100100100100100100100100100011011011011011011011011011011 :
              Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
                [
                  M.read (| p100100100100100100100100000000011011011011011011011011000000 |);
                  M.read (| p100100000000000000000000000000011011 |)
                ]
              |)
            |) in
          let~ p1001001001001001001001001001000110110110110110110110110110110000 :
              Ty.apply (Ty.path "*") [] [ R ] :=
            M.alloc (|
              M.call_closure (|
                R,
                M.get_trait_method (|
                  "p3_field::field::PrimeCharacteristicRing",
                  R,
                  [],
                  [],
                  "exp_power_of_2",
                  [],
                  []
                |),
                [
                  M.borrow (|
                    Pointer.Kind.Ref,
                    p100100100100100100100100100100011011011011011011011011011011
                  |);
                  Value.Integer IntegerKind.Usize 4
                ]
              |)
            |) in
          M.alloc (|
            M.call_closure (|
              R,
              M.get_trait_method (| "core::ops::arith::Mul", R, [], [ R ], "mul", [], [] |),
              [
                M.read (| p1001001001001001001001001001000110110110110110110110110110110000 |);
                M.read (| p111 |)
              ]
            |)
          |)
        |)))
    | _, _, _ => M.impossible "wrong number of arguments"
    end.
  
  Global Instance Instance_IsFunction_exp_10540996611094048183 :
    M.IsFunction.C "p3_field::exponentiation::exp_10540996611094048183" exp_10540996611094048183.
  Admitted.
  Global Typeclasses Opaque exp_10540996611094048183.
End exponentiation.
