(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Import Root.std.prelude.rust_2015.

Module Cardinal.
  Inductive t : Set := Build.
End Cardinal.
Definition Cardinal := Cardinal.t.

Module BlueJay.
  Inductive t : Set := Build.
End BlueJay.
Definition BlueJay := BlueJay.t.

Module Turkey.
  Inductive t : Set := Build.
End Turkey.
Definition Turkey := Turkey.t.

Module Red.
  Unset Primitive Projections.
  Class Trait (Self : Set) : Set := {
  }.
  Global Set Primitive Projections.
End Red.

Module Blue.
  Unset Primitive Projections.
  Class Trait (Self : Set) : Set := {
  }.
  Global Set Primitive Projections.
End Blue.

Module Impl_Red_for_Cardinal.
  Definition Self := Cardinal.
  
  Global Instance I : Red.Trait Self := Red.Build_Class _.
End Impl_Red_for_Cardinal.

Module Impl_Blue_for_BlueJay.
  Definition Self := BlueJay.
  
  Global Instance I : Blue.Trait Self := Blue.Build_Class _.
End Impl_Blue_for_BlueJay.

Definition red {T : Set} `{Red.Trait T} (arg : ref T) : ref str := "red".

Definition blue {T : Set} `{Blue.Trait T} (arg : ref T) : ref str := "blue".

(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main (_ : unit) : unit :=
  let cardinal := Cardinal.Build in
  let blue_jay := BlueJay.Build in
  let _turkey := Turkey.Build in
  _crate.io._print
    (format_arguments::["new_v1"]
      [ "A cardinal is "; "
" ]
      [ format_argument::["new_display"] (red cardinal) ]) ;;
  tt ;;
  _crate.io._print
    (format_arguments::["new_v1"]
      [ "A blue jay is "; "
" ]
      [ format_argument::["new_display"] (blue blue_jay) ]) ;;
  tt ;;
  tt.
