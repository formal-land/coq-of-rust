(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Import Root.std.prelude.rust_2015.

Definition function :=
  let return_type := unit in
  ltac:(function (
    let _ : unit :=
      let _ : unit :=
        _crate.io._print(|
          format_arguments::["new_const"](| [ "called `function()`
" ] |)
        |) in
      tt in
    tt
  : return_type)).

Module cool.
  Definition function :=
    let return_type := unit in
    ltac:(function (
      let _ : unit :=
        let _ : unit :=
          _crate.io._print(|
            format_arguments::["new_const"](| [ "called `cool::function()`
" ]
            |)
          |) in
        tt in
      tt
    : return_type)).
End cool.

Definition function :=
  let return_type := unit in
  ltac:(function (
    let _ : unit :=
      let _ : unit :=
        _crate.io._print(|
          format_arguments::["new_const"](| [ "called `cool::function()`
" ] |)
        |) in
      tt in
    tt
  : return_type)).

Module my.
  Definition function :=
    let return_type := unit in
    ltac:(function (
      let _ : unit :=
        let _ : unit :=
          _crate.io._print(|
            format_arguments::["new_const"](| [ "called `my::function()`
" ] |)
          |) in
        tt in
      tt
    : return_type)).
  
  Module cool.
    Definition function :=
      let return_type := unit in
      ltac:(function (
        let _ : unit :=
          let _ : unit :=
            _crate.io._print(|
              format_arguments::["new_const"](|
                [ "called `my::cool::function()`
" ]
              |)
            |) in
          tt in
        tt
      : return_type)).
  End cool.
  
  Definition indirect_call :=
    let return_type := unit in
    ltac:(function (
      let _ : unit :=
        let _ : unit :=
          _crate.io._print(|
            format_arguments::["new_const"](|
              [ "called `my::indirect_call()`, that
> " ]
            |)
          |) in
        tt in
      let _ : unit := self.function(||) in
      let _ : unit := function(||) in
      let _ : unit := self.cool.function(||) in
      let _ : unit := super.function(||) in
      let _ : unit := root_function(||) in
      tt
    : return_type)).
End my.

Definition function :=
  let return_type := unit in
  ltac:(function (
    let _ : unit :=
      let _ : unit :=
        _crate.io._print(|
          format_arguments::["new_const"](| [ "called `my::function()`
" ] |)
        |) in
      tt in
    tt
  : return_type)).

Module cool.
  Definition function :=
    let return_type := unit in
    ltac:(function (
      let _ : unit :=
        let _ : unit :=
          _crate.io._print(|
            format_arguments::["new_const"](|
              [ "called `my::cool::function()`
" ]
            |)
          |) in
        tt in
      tt
    : return_type)).
End cool.

Definition function :=
  let return_type := unit in
  ltac:(function (
    let _ : unit :=
      let _ : unit :=
        _crate.io._print(|
          format_arguments::["new_const"](| [ "called `my::cool::function()`
" ]
          |)
        |) in
      tt in
    tt
  : return_type)).

Definition indirect_call :=
  let return_type := unit in
  ltac:(function (
    let _ : unit :=
      let _ : unit :=
        _crate.io._print(|
          format_arguments::["new_const"](|
            [ "called `my::indirect_call()`, that
> " ]
          |)
        |) in
      tt in
    let _ : unit := self.function(||) in
    let _ : unit := function(||) in
    let _ : unit := self.cool.function(||) in
    let _ : unit := super.function(||) in
    let _ : unit := root_function(||) in
    tt
  : return_type)).

Module root_function := crate.cool.function.

Definition main :=
  let return_type := unit in
  ltac:(function (
    let _ : unit := my.indirect_call(||) in
    tt
  : return_type)).
