(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Import Root.std.prelude.rust_2015.

Module File := std.fs.File.
Definition File := File.t.

Module io := std.io.

Module BufReader := std.io.BufReader.
Definition BufReader := BufReader.t.

Definition read_lines (filename : String) : io.Lines (BufReader File) :=
  let file := (File::["open"] filename).["unwrap"] in
  Return (io.BufReader::["new"] file).["lines"] ;;
  tt.

(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main (_ : unit) : unit :=
  let lines := read_lines "./hosts".["to_string"] in
  match LangItem lines with
  | iter =>
    loop
      match LangItem iter with
      | None => Break
      | Some {| Some.0 := line; |} =>
        _crate.io._print
          (format_arguments::["new_v1"]
            [ ""; "
" ]
            [ format_argument::["new_display"] line.["unwrap"] ]) ;;
        tt ;;
        tt
      end ;;
      tt
      from
      for
  end.
