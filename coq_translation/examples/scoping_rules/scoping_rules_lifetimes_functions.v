(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Import Root.std.prelude.rust_2015.

Definition print_one (x : ref i32) : unit :=
  _crate.io._print
    (format_arguments::["new_v1"]
      [ "`print_one`: x is "; "
" ]
      [ format_argument::["new_display"] x ]) ;;
  tt ;;
  tt.

Definition add_one (x : mut_ref i32) : unit :=
  x.["deref"].["add_assign"] 1 ;;
  tt.

Definition print_multi (x : ref i32) (y : ref i32) : unit :=
  _crate.io._print
    (format_arguments::["new_v1"]
      [ "`print_multi`: x is "; ", y is "; "
" ]
      [ format_argument::["new_display"] x; format_argument::["new_display"] y
      ]) ;;
  tt ;;
  tt.

Definition pass_x (x : ref i32) (arg : ref i32) : ref i32 := x.

(* #[allow(dead_code)] - function was ignored by the compiler *)
Definition main (_ : unit) : unit :=
  let x := 7 in
  let y := 9 in
  print_one x ;;
  print_multi x y ;;
  let z := pass_x x y in
  print_one z ;;
  let t := 3 in
  add_one t ;;
  print_one t ;;
  tt.
